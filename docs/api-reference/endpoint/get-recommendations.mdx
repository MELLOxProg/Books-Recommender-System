---
title: 'Get Recommendations'
api: 'POST /recommendations'
description: 'Generate book recommendations based on a given book title'
---

## Overview

Generate personalized book recommendations using collaborative filtering. This endpoint analyzes user rating patterns to suggest books similar to the input book.

<RequestExample>
```json
{
  "book_name": "Harry Potter and the Philosopher's Stone",
  "num_recommendations": 5
}
```
</RequestExample>

<ResponseExample>
```json
{
  "input_book": "Harry Potter and the Philosopher's Stone",
  "recommendations": [
    {
      "title": "Harry Potter and the Chamber of Secrets",
      "author": "J.K. Rowling",
      "similarity_score": 0.95,
      "image_url": "http://images.amazon.com/images/P/043935806X.01.LZZZZZZZ.jpg",
      "isbn": "043935806X"
    },
    {
      "title": "The Lord of the Rings",
      "author": "J.R.R. Tolkien",
      "similarity_score": 0.87,
      "image_url": "http://images.amazon.com/images/P/0345339681.01.LZZZZZZZ.jpg",
      "isbn": "0345339681"
    }
  ],
  "total_found": 5
}
```
</ResponseExample>

## Parameters

<ParamField query="book_name" type="string" required>
  The title of the book to base recommendations on. Case-insensitive matching is performed.
</ParamField>

<ParamField query="num_recommendations" type="integer" default="5">
  Number of recommendations to return (1-10). Defaults to 5.
</ParamField>

## Response Schema

<ResponseField name="input_book" type="string">
  The normalized book title that was used for recommendations
</ResponseField>

<ResponseField name="recommendations" type="array">
  Array of recommended books with metadata
</ResponseField>

<ResponseField name="recommendations[].title" type="string">
  The full title of the recommended book
</ResponseField>

<ResponseField name="recommendations[].author" type="string">
  The author of the recommended book
</ResponseField>

<ResponseField name="recommendations[].similarity_score" type="float">
  Similarity score between input book and recommendation (0-1, higher is more similar)
</ResponseField>

<ResponseField name="recommendations[].image_url" type="string">
  URL to the book's cover image (medium size)
</ResponseField>

<ResponseField name="recommendations[].isbn" type="string">
  ISBN identifier for the book
</ResponseField>

<ResponseField name="total_found" type="integer">
  Total number of recommendations returned
</ResponseField>

## Error Responses

<ResponseField name="error" type="string">
  Error message when the requested book is not found in the dataset
</ResponseField>

<ErrorExample status="404">
```json
{
  "error": "Book 'nonexistent book' not found in dataset"
}
```
</ErrorExample>

## Implementation Details

The recommendation algorithm uses **k-Nearest Neighbors (k-NN)** with **cosine similarity** to find books with similar user rating patterns:

1. **Book Lookup**: Find the input book in the user-item rating matrix
2. **Similarity Calculation**: Compute cosine similarity with all other books
3. **Neighbor Selection**: Select top-k most similar books (excluding the input book)
4. **Metadata Retrieval**: Fetch author, cover image, and ISBN for each recommendation
5. **Score Normalization**: Convert distance scores to similarity scores (0-1)

### Algorithm Parameters

- **Similarity Metric**: Cosine similarity (optimal for sparse rating data)
- **Neighbors**: k=6 (including input book, returning 5 recommendations)
- **Matrix**: User-item rating matrix with 271,379 books Ã— 278,858 users

## Usage Examples

### Python Integration

```python
import requests

# Basic recommendation request
response = requests.post('https://your-api.com/recommendations', 
                        json={
                            'book_name': 'To Kill a Mockingbird',
                            'num_recommendations': 3
                        })

recommendations = response.json()

for i, book in enumerate(recommendations['recommendations'], 1):
    print(f"{i}. {book['title']} by {book['author']}")
    print(f"   Similarity: {book['similarity_score']:.3f}")
    print(f"   Cover: {book['image_url']}")
```

### JavaScript/Fetch API

```javascript
async function getRecommendations(bookName, numRecs = 5) {
    const response = await fetch('/recommendations', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({
            book_name: bookName,
            num_recommendations: numRecs
        })
    });
    
    if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
    }
    
    return await response.json();
}

// Usage
getRecommendations('1984', 3)
    .then(data => {
        console.log(`Found ${data.total_found} recommendations for "${data.input_book}"`);
        data.recommendations.forEach(book => {
            console.log(`- ${book.title} (${book.similarity_score.toFixed(2)} similar)`);
        });
    })
    .catch(error => console.error('Error:', error));
```

### cURL

```bash
curl -X POST "https://your-api.com/recommendations" \
     -H "Content-Type: application/json" \
     -d '{
       "book_name": "Pride and Prejudice",
       "num_recommendations": 5
     }'
```

## Performance Considerations

<Note>
  **Response Time**: Typical response time is 100-500ms depending on server load and book popularity.
</Note>

### Optimization Tips

1. **Popular Books**: Books with more ratings typically return faster results
2. **Caching**: Results for popular books are cached for 1 hour
3. **Batch Requests**: Use the batch endpoint for multiple books
4. **Error Handling**: Always check for error responses and implement fallbacks

### Rate Limits

- **Free Tier**: 100 requests/hour
- **Pro Tier**: 1,000 requests/hour
- **Enterprise**: Custom limits available

## Related Endpoints

- [Get Book Details](/api-reference/endpoint/get-book-details) - Get detailed information about a specific book
- [Search Books](/api-reference/introduction#search-books) - Find books by title search
- [Health Check](/api-reference/introduction#health-check) - Verify API status

## Data Sources

Recommendations are based on the **Book Crossing dataset** containing:
- **1,149,780** user ratings
- **271,379** unique books  
- **278,858** users
- **Rating scale**: 1-10 (explicit ratings only)

The algorithm focuses on books with **50+ ratings** and users with **200+ ratings** to ensure recommendation quality.
